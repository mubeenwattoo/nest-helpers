<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="./assets/css/output.css" rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
 

<title>Guest Pricing Page: Send</title>
</head>
<body class="font-[lexend] gradient-bg ">

 <section class="gradient-bg-2 pt-8  lg:px-[64px] lg:pb-[48px] pb-[24px] p-6 ">
<a href="./" class="inline-flex"><img src="./assets/images/logo.png" alt="logo" class="lg:w-[124px] lg:h-[48px] w-[82px] h-[32px] "></a>
<div class="max-w-6xl mx-auto flex flex-col gap-4 text-center items-center lg:mt-12 mt-24">
<img src="./assets/images/tick-circle.svg" alt="circle" class="mx-auto lg:size-24 size-16 hover:opacity-80 duration-300">
<h2 class="text-[#5B7B5A] lg:text-[48px] text-[20px] font-[500] mt-4">
    We have emailed you a link to submit a quick video interview to complete your application
</h2>

<span class="lg:text-[24px] text-[16px] font-[400] text-[#2D2D2D]">Thank you for your submission!</span>

</div>


</section>

<!-- 
  ===================================================================
  ZAPIER INTEGRATION
  ===================================================================
  
  This script automatically sends candidate email and name to Zapier
  when the user reaches the thank you page after completing the survey.
  
  The data is sent to your Zapier webhook, which can then trigger
  actions like sending interview emails, creating interview links, etc.
  
  ===================================================================
-->
<script>
document.addEventListener("DOMContentLoaded", () => {
  // ============================================================
  // CONFIGURATION: Your Zapier Webhook URL
  // ============================================================
  const ZAPIER_WEBHOOK_URL = 'https://hooks.zapier.com/hooks/catch/25392582/u8080bk/';
  // ============================================================
  
  // Retrieve email and name from localStorage (stored by guest-pricing-page.html)
  const zapierData = localStorage.getItem('hireflixData');
  
  if (zapierData) {
    try {
      const { email, name } = JSON.parse(zapierData);
      
      // Only proceed if both email and name are available
      if (email && name) {
        // Validate email format
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
          console.warn('Invalid email format, skipping Zapier integration:', email);
          localStorage.removeItem('hireflixData');
          return;
        }
        
        // Prepare data to send
        const dataToSend = {
          email: email.trim(),
          name: name.trim()
        };
        
        // Log what we're sending (for testing/debugging)
        console.log('üì§ Sending data to Zapier:', dataToSend);
        console.log('üîó Webhook URL:', ZAPIER_WEBHOOK_URL);
        
        // Convert data to URL-encoded format (avoids CORS preflight issues)
        // Zapier webhooks accept form data and will parse it correctly
        const formData = new URLSearchParams();
        formData.append('email', email.trim());
        formData.append('name', name.trim());
        
        // Send data to Zapier webhook (fire-and-forget)
        // Using form data instead of JSON to avoid CORS preflight issues
        fetch(ZAPIER_WEBHOOK_URL, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
          },
          body: formData.toString(),
          keepalive: true // Ensures request completes even if page unloads
        })
        .then(async (response) => {
          if (response.ok) {
            const responseData = await response.text().catch(() => '');
            console.log('‚úÖ Data successfully sent to Zapier!');
            console.log('üì• Zapier Response:', responseData);
            console.log('üìã Sent Data:', dataToSend);
          } else {
            console.warn('‚ö†Ô∏è Zapier webhook returned non-OK status:', response.status);
            console.warn('üìã Attempted to send:', dataToSend);
          }
        })
        .catch((error) => {
          // Log errors for debugging
          console.error('‚ùå Zapier integration error:', error);
          console.error('üìã Failed to send:', dataToSend);
        });
        
        // Clean up localStorage after sending (success or failure)
        localStorage.removeItem('hireflixData');
      } else {
        console.warn('Missing email or name data for Zapier integration');
        localStorage.removeItem('hireflixData');
      }
    } catch (error) {
      console.error('Error parsing zapier data from localStorage:', error);
      localStorage.removeItem('hireflixData');
    }
  } else {
    // No zapier data found - this is normal if user navigated directly to this page
    // or if data was already sent/cleared
    console.debug('No zapier data found in localStorage');
  }
});
</script>




<footer class="w-full bg-[#2E2E2E] pt-[42px] pb-[32px] lg:px-[64px] px-[24px] lg:relative absolute bottom-0">
  <div class="w-full mx-auto text-center">

<img src="./assets/images/logo.png" alt="logo" class="lg:w-[124px] lg:h-[48px] w-[82px] h-[32px] mx-auto ">


    <hr class="border-[#7D7A74] lg:mb-12 mb-6 lg:mt-10 mt-5">

    <p class="text-[#7D7A74] text-[16px] font-[400]">
      ¬© 2025 NestHelpers. All rights reserved.
    </p>
  </div>
</footer>





</body>


</html>